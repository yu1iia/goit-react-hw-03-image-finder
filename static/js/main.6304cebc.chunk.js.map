{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","request","handleRequestChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imageData","largeImageURL","tags","src","alt","image","Button","addPage","classNames","ButtonPosition","onClick","ImageGallery","images","map","img","id","length","Status","Loader","status","fetchFromAPI","page","url","axios","get","then","prevState","data","hits","catch","prevProps","prevRequest","nextRequest","prevPage","nextPage","resetPage","window","scrollTo","top","document","documentElement","scrollHeight","behavior","margin","color","height","width","timeout","modalRoot","getElementById","Modal","handleKeyDown","e","code","onClose","handleBackDrop","target","addEventListener","removeEventListener","createPortal","Overlay","App","picture","showModal","handleFormSubmit","setPicture","nodeName","currentSrc","toogleModal","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.6304cebc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__23ZWS\",\"image\":\"ImageGalleryItem_image__tAQEB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__23bOz\",\"ButtonPosition\":\"Button_ButtonPosition__2gVdh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__31F_k\",\"Modal\":\"Modal_Modal__EY3VK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3PP-7\"};","import React, { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\nimport propTypes from \"prop-types\";\n\nexport default class Searchbar extends Component {\n  state = {\n    request: \"\",\n  };\n\n  static propTypes = {\n    onSubmit: propTypes.func.isRequired,\n  };\n\n  handleRequestChange = (event) => {\n    this.setState({ request: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.request.trim() === \"\") {\n      toast.error(\"Please enter your request\");\n      return;\n    }\n    \n    this.props.onSubmit(this.state.request);\n    this.setState({ request: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n        \n            <button type=\"submit\" className={styles.SearchFormButton}>\n              <span className={styles.SearchFormButtonLabel}>Search</span>\n            </button>\n          \n          <input\n            className={styles.SearchFormInput}\n            name=\"request\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.request}\n            onChange={this.handleRequestChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import styles from \"./ImageGalleryItem.module.css\";\nimport propTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ imageData }) => {\n  const { largeImageURL, tags } = imageData;\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img src={largeImageURL} alt={tags} className={styles.image} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  imageData: propTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import styles from \"./Button.module.css\";\n\nimport classNames from \"classnames\";\n\nconst Button = ({ addPage }) => {\n  return (\n    \n    <button\n      type=\"button\"\n      className={classNames(styles.Button, styles.ButtonPosition)}\n      onClick={addPage}\n    >\n      Load more\n    </button>\n  \n  );\n  \n}\nexport default Button;\n","import styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport propTypes from \"prop-types\";\n\nconst ImageGallery = ({ images, addPage }) => {\n  return (\n    <div>\n      <ul className={styles.ImageGallery}>\n        {images.map((img) => (\n          <ImageGalleryItem key={img.id} imageData={img}></ImageGalleryItem>\n        ))}\n      </ul>\n      \n\n      {images.length > 0 ? (\n        <Button addPage={addPage} type=\"button\"></Button>\n       \n        ) : null}\n        \n      \n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  addPage: propTypes.func.isRequired,\n  images: propTypes.arrayOf(propTypes.object.isRequired),\n};\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport axios from \"axios\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport LoaderSpinner from \"react-loader-spinner\";\nimport propTypes from \"prop-types\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nexport default class Loader extends Component {\n  state = {\n    request: null,\n    images: [],\n    error: null,\n    status: Status.IDLE,\n  };\n\n  static propTypes = {\n    addPage: propTypes.func.isRequired,\n    resetPage: propTypes.func.isRequired,\n    page: propTypes.number.isRequired,\n    request: propTypes.string.isRequired,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevRequest = prevProps.request;\n    const nextRequest = this.props.request;\n    const prevPage = prevProps.page;\n    const nextPage = this.props.page;\n\n    if (prevRequest !== nextRequest) {\n      this.setState({ status: Status.PENDING });\n      this.fetchFromAPI();\n      this.props.resetPage();\n    }\n\n    if (prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n      this.fetchFromAPI();\n    }\n\n    if (this.state.images.length !== prevState.images.length) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  fetchFromAPI = () => {\n    const request = this.props.request;\n    const page = this.props.page;\n    const key = \"22152635-8ec13368f111185a48936f7db\";\n    const url = `https://pixabay.com/api/?q=${request}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n    axios\n      .get(url)\n      .then((images) => {\n        if (page > 1) {\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...images.data.hits],\n          }));\n        }\n        if (page === 1) {\n          this.setState({ images: images.data.hits });\n        }\n        this.setState({ status: Status.RESOLVED });\n      })\n      .catch((error) => this.setState({ error, status: Status.REJECTED }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n    if (status === \"idle\") {\n      return null;\n    }\n\n    if (status === \"pending\") {\n      return (\n        <div className=\"Loader\">\n          <LoaderSpinner\n            margin=\"0 auto\"\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        </div>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <div>{error}</div>;\n    }\n\n    if (status === \"resolved\") {\n      return <ImageGallery images={images} addPage={this.props.addPage} />;\n    }\n  }\n}\n","import styles from \"./Modal.module.css\";\nimport { createPortal } from \"react-dom\";\nimport { Component } from \"react\";\nimport propTypes from \"prop-types\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: propTypes.func.isRequired,\n    image: propTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackDrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      \n      <div className={styles.Overlay} onClick={this.handleBackDrop}>\n        <div className={styles.Modal}>\n          <img src={this.props.image} alt={this.props.tags}/>\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React, { Component } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Searchbar from \"./components/Searchbar/Searchbar\";\r\nimport Loader from \"./components/Loader/Loader\";\r\nimport Modal from \"./components/Modal/Modal\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    request: \"\",\r\n    images: [],\r\n    picture: \"\",\r\n    page: 1,\r\n    showModal: false,\r\n  };\r\n\r\n  handleFormSubmit = (request) => {\r\n    this.setState({ request });\r\n  };\r\n\r\n  setPicture = (e) => {\r\n    if (e.target.nodeName !== \"IMG\") {\r\n      return;\r\n    }\r\n    this.setState({ picture: e.target.currentSrc });\r\n    this.toogleModal();\r\n  };\r\n\r\n  toogleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  addPage = () => {\r\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  resetPage = () => {\r\n    this.setState({ page: 1 });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div onClick={this.setPicture} className=\"App\">\r\n        {this.state.showModal && (\r\n          <Modal image={this.state.picture} onClose={this.toogleModal}></Modal>\r\n        )}\r\n        <Searchbar onSubmit={this.handleFormSubmit}></Searchbar>\r\n        <Loader\r\n          request={this.state.request}\r\n          page={this.state.page}\r\n          addPage={this.addPage}\r\n          resetPage={this.resetPage}\r\n        />\r\n        <ToastContainer autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3CslM\",\"SearchForm\":\"Searchbar_SearchForm__143d0\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1bF5K\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1zXjW\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3Fmzk\"};"],"sourceRoot":""}